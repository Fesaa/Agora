

<p-card [header]="t(('header'))" *transloco="let t;prefix:'management.configuration.rooms.wizard.facilities'">
  <p-fieldset [legend]="t('explanation.legend')">
    <p>
      {{ t('explanation.p1') }}
    </p>
  </p-fieldset>

  <div class="wizard-form-container">
    <div class="wizard-form-field">
      @if (facilities.length == 0) {
        <span>{{ t('empty') }}</span>
      } @else {
        <cdk-virtual-scroll-viewport itemSize="25" style="height: 300px" class="facility-preview-holder wizard-selection-list">
          <div *cdkVirtualFor="let f of facilities">
            <div class="facility-preview wizard-list-item" [ngClass]="{'selected': activeMap[f.id]}" (click)="onCheckBoxChange(f, !isIncluded(f))">
              <span>{{f.displayName}}</span>
              <p-checkbox variant="filled" binary="true" [(ngModel)]="activeMap[f.id]" (onChange)="onCheckBoxChange(f, $event.checked)" />
            </div>
          </div>
        </cdk-virtual-scroll-viewport>
      }
    </div>
  </div>

  <div class="navigation-btn">
    <app-agora-button type="secondary" (onClick)="prev.emit()">{{t('prev')}}</app-agora-button>
    <app-agora-button type="primary" (onClick)="next.emit()">{{t('next')}}</app-agora-button>
  </div>

</p-card>
